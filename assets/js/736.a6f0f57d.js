(window.webpackJsonp=window.webpackJsonp||[]).push([[736],{1121:function(e,t,a){"use strict";a.r(t);var s=a(8),n=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"altering-tables"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#altering-tables"}},[e._v("#")]),e._v(" Altering tables")]),e._v(" "),t("WrappedSection",[t("p",[e._v("immudb supports limited table altering.\nThe supported operations are lightweight.\nThey do not require any changes to already written row data\nand there is no performance penalty on read/write operations\nin such altered tables.")])]),e._v(" "),t("WrappedSection",[t("h3",{attrs:{id:"rename-table"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rename-table"}},[e._v("#")]),e._v(" RENAME TABLE")]),e._v(" "),t("p",[e._v("An existing table can be renamed.\nThe table with the new name must not exist in the database\nwhen performing the alter operation.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ALTER")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TABLE")]),e._v(" customer "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("RENAME")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TO")]),e._v(" customers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])]),e._v(" "),t("WrappedSection",[t("h3",{attrs:{id:"add-column"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#add-column"}},[e._v("#")]),e._v(" ADD COLUMN")]),e._v(" "),t("p",[e._v("A new column can be added to an existing table.\nSuch column must be nullable.\nFor rows that already existed in the table before the alter operation,\nthe value of the newly added column will be read as "),t("code",[e._v("NULL")]),e._v(".\nNew column can not be set as "),t("code",[e._v("AUTO_INCREMENT")]),e._v(" which is only allowed for the primary key.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ALTER")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TABLE")]),e._v(" customers\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ADD")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("COLUMN")]),e._v(" created_time "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TIMESTAMP")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" customer_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" created_time\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" customers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])]),e._v(" "),t("WrappedSection",[t("h3",{attrs:{id:"rename-column"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rename-column"}},[e._v("#")]),e._v(" RENAME COLUMN")]),e._v(" "),t("p",[e._v("An existing column can be renamed.\nThe column with the new name must not exist in the table\nwhen performing the alter operation.\nIf the column was previously part of an index,\nsuch index will continue working with the new column name.\nRenaming a column does not change column's type.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ALTER")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TABLE")]),e._v(" customers\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("RENAME")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("COLUMN")]),e._v(" created_time "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TO")]),e._v(" created_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" customer_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" created_at\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" customers"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])]),e._v(" "),t("WrappedSection",[t("h3",{attrs:{id:"drop-column"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop-column"}},[e._v("#")]),e._v(" DROP COLUMN")]),e._v(" "),t("p",[e._v("An existing column can be deleted.\nPrior to removing the column, it is necessary to remove any associated indexes.")]),e._v(" "),t("div",{staticClass:"language-sql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ALTER")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TABLE")]),e._v(" customers\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("DROP")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("COLUMN")]),e._v(" created_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])])])],1)}),[],!1,null,null,null);t.default=n.exports}}]);