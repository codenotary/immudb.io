(window.webpackJsonp=window.webpackJsonp||[]).push([[589],{947:function(e,t,v){"use strict";v.r(t);var d=v(2),_=Object(d.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"configuration"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#configuration"}},[e._v("#")]),e._v(" Configuration")]),e._v(" "),v("WrappedSection",[v("p",[e._v("This page describes how to set different settings in immudb.")]),e._v(" "),v("p",[e._v("Settings can be specified as command line options to immudb (see "),v("code",[e._v("immudb -h")]),e._v("), in a configuration file, or as environment variables.")])]),e._v(" "),v("WrappedSection",[v("h3",{attrs:{id:"settings"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#settings"}},[e._v("#")]),e._v(" Settings")]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("Parameter")]),e._v(" "),v("th",[e._v("Default")]),e._v(" "),v("th",[e._v("Description")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("address")])]),e._v(" "),v("td",[v("code",[e._v("0.0.0.0")])]),e._v(" "),v("td",[e._v("bind address")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("admin-password")])]),e._v(" "),v("td",[v("code",[e._v("immudb")])]),e._v(" "),v("td",[e._v("admin password as plain-text or base64 encoded (must be prefixed with 'enc:' if it is encoded)")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("auth")])]),e._v(" "),v("td",[v("code",[e._v("true")])]),e._v(" "),v("td",[e._v("enable auth")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("certificate")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("server certificate file path")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("clientcas")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("clients certificates list. Aka certificate authority")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("config")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("config file (default path are configs or $HOME. Default filename is immudb.")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("detached")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("run immudb in background")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("devmode")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("enable dev mode: accept remote connections without auth")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("dir")])]),e._v(" "),v("td",[v("code",[e._v("./data")])]),e._v(" "),v("td",[e._v("data folder")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("logfile")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("log path with filename. E.g. /tmp/immudb/immudb.log")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("logformat")])]),e._v(" "),v("td",[v("code",[e._v("text")])]),e._v(" "),v("td",[e._v("log format e.g. text/json")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("maintenance")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("override the authentication flag")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("max-recv-msg-size")])]),e._v(" "),v("td",[v("code",[e._v("33554432")])]),e._v(" "),v("td",[e._v("max message size in bytes the server can receive")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("max-session-age-time")])]),e._v(" "),v("td",[e._v("infinity")]),e._v(" "),v("td",[e._v("max session age time is a duration after which session will be forcibly closed")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("max-session-inactivity-time")])]),e._v(" "),v("td",[v("code",[e._v("3m0s")])]),e._v(" "),v("td",[e._v("max session inactivity time is a duration after which an active session is declared inactive by the server. A session is kept active if server is still receiving requests from client (keep-alive or other methods)")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("max-sessions")])]),e._v(" "),v("td",[v("code",[e._v("100")])]),e._v(" "),v("td",[e._v("maximum number of simultaneously opened sessions")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("metrics-server")])]),e._v(" "),v("td",[v("code",[e._v("true")])]),e._v(" "),v("td",[e._v("enable or disable Prometheus endpoint")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("metrics-server-port")])]),e._v(" "),v("td",[v("code",[e._v("9477")])]),e._v(" "),v("td",[e._v("Prometheus endpoint port")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("mtls")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("enable mutual tls")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("no-histograms")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("disable collection of histogram metrics like query durations")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("pgsql-server")])]),e._v(" "),v("td",[v("code",[e._v("true")])]),e._v(" "),v("td",[e._v("enable or disable pgsql server")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("pgsql-server-port")])]),e._v(" "),v("td",[v("code",[e._v("5432")])]),e._v(" "),v("td",[e._v("pgsql server port")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("pidfile")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("pid path with filename. E.g. /var/run/immudb.pid")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("pkey")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("server private key path")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("port")])]),e._v(" "),v("td",[v("code",[e._v("3322")])]),e._v(" "),v("td",[e._v("port number")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("pprof")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("add pprof profiling endpoint on the metrics server")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-allow-tx-discarding")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("allow precommitted transactions to be discarded if the follower diverges from the master")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-commit-concurrency")])]),e._v(" "),v("td",[v("code",[e._v("10")])]),e._v(" "),v("td",[e._v("number of concurrent replications")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-follower-password")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("password used for replication of systemdb and defaultdb")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-follower-username")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("username used for replication of systemdb and defaultdb")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-is-replica")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("set systemdb and defaultdb as replica")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-master-address")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("master address (if replica=true)")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-master-port")])]),e._v(" "),v("td",[v("code",[e._v("3322")])]),e._v(" "),v("td",[e._v("master port (if replica=true)")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-prefetch-tx-buffer-size")])]),e._v(" "),v("td",[v("code",[e._v("100")])]),e._v(" "),v("td",[e._v("maximum number of prefeched transactions")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-sync-acks")])]),e._v(" "),v("td",[v("code",[e._v("0")])]),e._v(" "),v("td",[e._v("set a minimum number of replica acknowledgements required before transactions can be committed")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("replication-sync-enabled")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("enable synchronous replication")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("s3-access-key-id")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("s3 access key id")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("s3-bucket-name")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("s3 bucket name")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("s3-endpoint")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("s3 endpoint")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("s3-location")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("s3 location (region)")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("s3-path-prefix")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("s3 path prefix (multiple immudb instances can share the same bucket if they have different prefixes)")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("s3-secret-key")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v("s3 secret access key")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("s3-storage")])]),e._v(" "),v("td",[v("code",[e._v("false")])]),e._v(" "),v("td",[e._v("enable or disable s3 storage")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("session-timeout")])]),e._v(" "),v("td",[v("code",[e._v("2m0s")])]),e._v(" "),v("td",[e._v("session timeout is a duration after which an inactive session is forcibly closed by the server")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("signingKey")])]),e._v(" "),v("td",[e._v("``")]),e._v(" "),v("td",[e._v('signature private key path. If a valid one is provided, it enables the cryptographic signature of the root. E.g. "./../test/signer/ec3.key"')])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("synced")])]),e._v(" "),v("td",[v("code",[e._v("true")])]),e._v(" "),v("td",[e._v("synced mode prevents data lost under unexpected crashes but affects performance")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("token-expiry-time")])]),e._v(" "),v("td",[v("code",[e._v("1440")])]),e._v(" "),v("td",[e._v("client authentication token expiration time. Minutes")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("web-server")])]),e._v(" "),v("td",[v("code",[e._v("true")])]),e._v(" "),v("td",[e._v("enable or disable web/console server")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("web-server-port")])]),e._v(" "),v("td",[v("code",[e._v("8080")])]),e._v(" "),v("td",[e._v("web/console server port")])])])])]),e._v(" "),v("WrappedSection",[v("h3",{attrs:{id:"configuration-file"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#configuration-file"}},[e._v("#")]),e._v(" Configuration file")]),e._v(" "),v("p",[e._v("Settings can be specified in a "),v("a",{attrs:{href:"https://raw.githubusercontent.com/codenotary/immudb/master/configs/immudb.toml",target:"_blank",rel:"noopener noreferrer"}},[e._v("immudb.toml configuration file"),v("OutboundLink")],1),e._v(".")]),e._v(" "),v("p",[e._v("Which configuration file to use is set with the "),v("code",[e._v("--config")]),e._v(" option. By default, immudb looks into the "),v("code",[e._v("configs")]),e._v(" subfolder in the current directory.")]),e._v(" "),v("p",[e._v("When running immudb as a service, "),v("code",[e._v("immudb service install")]),e._v(" allows to specify the configuration file to use with the "),v("code",[e._v("--config")]),e._v(" option.")]),e._v(" "),v("h3",{attrs:{id:"environment-variables"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#environment-variables"}},[e._v("#")]),e._v(" Environment variables")]),e._v(" "),v("p",[e._v("Settings specified via environment variables take override the configuration file. They are specified in the form of "),v("code",[e._v("IMMUDB_")]),e._v(", for example "),v("code",[e._v("IMMUDB_DIR")]),e._v(" specifies the "),v("code",[e._v("dir")]),e._v(" variable.")])])],1)}),[],!1,null,null,null);t.default=_.exports}}]);